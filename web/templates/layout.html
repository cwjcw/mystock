<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ title or '股票监控' }}</title>
    <style>
      body { font-family: -apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,'Noto Sans',sans-serif; margin: 2rem; }
      .container { max-width: 720px; margin: 0 auto; }
      .flash { padding: .5rem 1rem; border-radius: 4px; margin: .5rem 0; }
      .flash.error { background:#fdecea; color:#b10000; }
      .flash.success { background:#edf7ed; color:#1e4620; }
      label { display:block; margin:.5rem 0 .25rem; }
      input[type=text], input[type=password], textarea { width:100%; padding:.5rem; border:1px solid #ccc; border-radius:4px; }
      textarea { height: 220px; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace; }
      .actions { margin-top:1rem; }
      .btn { display:inline-block; padding:.5rem 1rem; border:1px solid #444; border-radius:4px; text-decoration:none; background:#f5f5f5; color:#222; }
      .nav { margin-bottom:1rem; }
      .nav a { margin-right:1rem; }
      code { background:#f2f2f2; padding:.2rem .35rem; border-radius:3px; }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="nav">
        {% if current_user.is_authenticated %}
          你好，{{ current_user.username }} | <a href="{{ url_for('watchlist_view') }}">我的股票</a> | <a href="{{ url_for('logout') }}">退出</a>
        {% else %}
          <a href="{{ url_for('login') }}">登录</a> | <a href="{{ url_for('register') }}">注册</a>
        {% endif %}
      </div>
      {% for category, message in get_flashed_messages(with_categories=True) %}
        <div class="flash {{ category }}">{{ message }}</div>
      {% endfor %}
      {% block content %}{% endblock %}
    </div>
  </body>
  </html>

